<!-- 10-12-2023 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content=" ðŸŽ‰Happy Birthday Akilan ðŸŽ‰">
    <title>HB</title>
</head>
<!-- w3.css -->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="index.css">
<body>
    <div class="cont">
        <div class="bd-text">
            <span>ðŸŽ‰Happy</span>
            <span>Birthday</span>
            <span>Akilan ðŸŽ‰</span>
            <!-- <div class=" show-ani-btn">
       </div> -->
        </div>
        <button class="w3-display-middle " onclick="show_cake()" id="celebrate-btn">
            <span id="poper"></span>
            Let's
            Celebrate</button>

        <div id="cake-poper">
            <!-- cake gif -->
            <img src="giphy-1--unscreen.gif" alt="gif">
            <br>
            <!-- <button type="button" id="poper"></button> -->
        </div>
    </div>
    <button disabled class="w3-display-bottommiddle heart-show" style=" margin-bottom: 60px;" onclick="show()">surprise</button>
    <!-- text animation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <!-- animate-heart-canvas -->
    <script src="animate-heart-canvas-browser.js?v=20230222171908"></script>
    <script src="index.js"></script>
    <script type="module" src="index.js"></script>
    <script>
        document.querySelector(".heart-show").style.display = 'none';
        document.getElementById("cake-poper").style.display = "none";

        function show_cake() {
            document.getElementById("cake-poper").style.display = "block";
            document.getElementById("celebrate-btn").style.display = "none";
            document.getElementById("poper").click();
            setTimeout(() => {
                document.querySelector(".heart-show").style.display = 'block';

            }, 3000)
        }
        //    Text animation
        var textWrapper = document.querySelector('.bd-text');
        textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

        anime.timeline({ loop: false }) //for infinite animation change false >true
            .add({
                targets: '.bd-text .letter',
                opacity: [0, 1],
                easing: "easeInOutQuad",
                duration: 2250,
                delay: (el, i) => 150 * (i + 1)
            }).add({
                targets: '.bd-text',
                opacity: 1,
                duration: 1000,
                easing: "easeOutExpo",
                delay: 1000
            });
        //   Heart animation
        function show() {
            document.querySelector(".cont").style.display = 'none';
            let queryData = getSearchData()
            console.log(queryData)
            let animateHeartCanvas = new AnimateHeartCanvas(
                Number(queryData.hMin),
                Number(queryData.hMax),
                Number(queryData.countHeart),
                Number(queryData.sizeMin),
                Number(queryData.sizeMax),
                queryData.bgColor,
            )
            function getSearchData() {
                let searchString = location.search;
                if (searchString) {
                    let obj = {};
                    searchString = searchString.substring(1, searchString.length);
                    let tempArray = searchString.split('&');
                    tempArray.forEach(item => {
                        obj[item.split('=')[0]] = decodeURIComponent(item.split('=')[1]);
                    });
                    return obj;
                } else {
                    return false;
                }
            }
            document.querySelector(".heart-show").style.display = 'none';
        }


    </script>
</body>

</html>
